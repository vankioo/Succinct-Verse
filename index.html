<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Succinct Verse</title>
    <link rel="stylesheet" type="text/css" href="assets/flaticon/flaticon.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="welcome-screen">
        <div class="welcome-box">
            <h1>Succinct Verse</h1>
            <p>An interactive project universe.</p>
            <button id="enter-btn">Click to Enter</button>
        </div>
    </div>
    <div id="main-app" class="hidden">
        <header class="top-menubar">
            <div class="menu-left"><span class="app-name">Succinct Verse</span></div>
            <div class="menu-right">
                <div id="notification-widget">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H6.414l-3.707 2.354A.5.5 0 0 1 2 15.914V2z"/></svg>
                    <span class="notification-badge"></span>
                    <div class="notification-dropdown">
                        <div class="dropdown-header">Notifications</div><ul id="notification-list"></ul>
                    </div>
                </div>
                <div class="cpu-widget">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 24 24"><path d="M9 2v2H7V2H5v2H4a2 2 0 0 0-2 2v2h2v8H2v2a2 2 0 0 0 2 2h1v2h2v-2h2v2h2v-2h8v2h2v-2h2a2 2 0 0 0 2-2v-2h-2V8h2V6a2 2 0 0 0-2-2h-1V2h-2v2h-2V2h-2v2H9V2H7zm0 4h8v12H7V6z"/></svg>
                    <div class="cpu-bar-container"><div class="cpu-bar"></div></div>
                </div>
                <span id="date-widget"></span><span id="clock">10:10</span>
            </div>
        </header>
        <main class="desktop">
            <a href="https://succinct-network.vercel.app/" target="_blank" class="desktop-icon"><img src="assets/images/icon1.png" alt="ZK Constellation"><span>ZK Constellation</span></a>
            <a href="#" target="_blank" class="desktop-icon"><img src="assets/images/icon3.png" alt="Proof of Synergy"><span>Proof of Synergy</span></a>
            <a href="https://succinct-zk-forge.vercel.app/" target="_blank" class="desktop-icon"><img src="assets/images/icon2.png" alt="ZK Forge"><span>ZK Forge</span></a>
        </main>
        <footer class="dock">
            <div class="dock-container">
                <a href="javascript:void(0);" id="open-community-board" class="dock-item" title="Community Board"><i class="fi fi-rr-palette"></i> <span>Community Board</span></a>
                <a href="javascript:void(0);" id="open-sp1-verifier" class="dock-item" title="SP1 Verifier"><i class="fi fi-rr-shield-check"></i> <span>SP1 Verifier</span></a>
                <div class="separator"></div>
                <a href="https://twitter.com/vankioo" target="_blank" class="dock-item" title="Twitter/X"><i class="fi fi-brands-twitter-x"></i> <span>Twitter/X</span></a>
                <a href="https://discord.gg/succinctlabs" target="_blank" class="dock-item" title="Discord"><i class="fi fi-brands-discord"></i> <span>Discord</span></a>
            </div>
        </footer>
    </div>
    <audio id="background-music" src="assets/backsound.mp3" loop></audio>

    <div id="sp1-verifier-modal" class="modal-container hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <button id="close-sp1-modal" class="modal-close-btn">&times;</button>
            <h2>SP1 Verifier</h2>
            <p>Simulating program execution and ZK proof generation.</p>
            <div id="sp1-console" class="console"></div>
        </div>
    </div>
    
    <div id="community-board-modal" class="modal-container hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content wide">
            <button id="close-community-modal" class="modal-close-btn">&times;</button>
            <h2>Community Board</h2>
            
            <div id="community-login-view">
                <p>Please log in with Twitter to leave your mark.</p>
                <button id="login-twitter-btn" class="submit-art-btn">
                    <i class="fi fi-brands-twitter-x"></i> Log In with Twitter
                </button>
            </div>

            <div id="community-drawing-view" class="hidden">
                 <p>Signed in as <strong id="twitter-username-display">@username</strong>. Draw anything!</p>
                <div class="drawing-area">
                    <div class="tools">
                        <label for="colorPicker">Color:</label>
                        <input type="color" id="colorPicker" value="#FE11C5">
                        <label for="brushSize">Size:</label>
                        <input type="range" id="brushSize" min="1" max="50" value="5">
                        <button id="eraserBtn">Eraser</button>
                        <button id="clearBtn">Clear</button>
                    </div>
                    <canvas id="drawing-canvas"></canvas>
                </div>
                <button id="submitArtBtn" class="submit-art-btn">Lock In Your Art</button>
            </div>
        </div>
    </div>

    <script>
       <script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- KODE LAMA ANDA UNTUK UI DASAR (BIARKAN) ---
        // (kode notifikasi, musik, jam, dll. ada di sini)
        const chatNotifications=[{name:'Yinger UwU',photo:'assets/images/yinger.png',message:'Dont forget succinct rockstars!'},{name:'Addyyeah',photo:'assets/images/addy.jpg',message:'Mainnet soon yeahh'},{name:'Zaharon bruhh',photo:'assets/images/zaharon.jpg',message:'Log in bruhh, lets play together'},{name:'Duskieee',photo:'assets/images/duskie.jpg',message:'Thanks for joining!'}];function showRandomNotifications(){const t=document.getElementById('notification-list');if(!t)return;t.innerHTML='';const e=chatNotifications.sort(()=>.5-Math.random());let o=e.slice(0,1);o.forEach(e=>{const o=`<li class="notification-item"><img src="${e.photo}" alt="${e.name}"><div class="notification-content"><p>${e.name}</p><span>${e.message}</span></div></li>`;t.innerHTML+=o})}const enterBtn=document.getElementById('enter-btn'),welcomeScreen=document.getElementById('welcome-screen'),mainApp=document.getElementById('main-app'),music=document.getElementById('background-music');enterBtn&&enterBtn.addEventListener('click',()=>{music&&(music.volume=.3,music.play()),welcomeScreen.style.display='none',mainApp.classList.remove('hidden')});function updateDateTime(){const t=new Date,e=document.getElementById('clock'),o=document.getElementById('date-widget');if(!e||!o)return;const n=String(t.getHours()).padStart(2,'0'),a=String(t.getMinutes()).padStart(2,'0');e.textContent=`${n}:${a}`;const i={weekday:'short',day:'numeric',month:'short'};o.textContent=t.toLocaleDateString('en-US',i)}showRandomNotifications(),setInterval(updateDateTime,1e3),updateDateTime();

        // --- PENGONTROL POPUP UMUM ---
        function setupModal(buttonId, modalId, closeButtonId, onOpen = null) {
            const openBtn = document.getElementById(buttonId);
            const modal = document.getElementById(modalId);
            const closeBtn = document.getElementById(closeButtonId);
            if (!openBtn || !modal || !closeBtn) return;
            const open = () => { modal.classList.remove('hidden'); modal.classList.add('visible'); if (onOpen) onOpen(); };
            const close = () => { modal.classList.remove('visible'); setTimeout(() => modal.classList.add('hidden'), 300); };
            openBtn.addEventListener('click', open);
            closeBtn.addEventListener('click', close);
            modal.querySelector('.modal-overlay').addEventListener('click', close);
        }

        // --- PENGATURAN POPUP SP1 VERIFIER ---
        const consoleOutput = document.getElementById('sp1-console');
        const verificationSteps = ["Initializing ZKVM...", "Compiling program...", "Generating proof...", "âœ… Execution Verified."];
        function runConsoleAnimation() { if (!consoleOutput) return; consoleOutput.innerHTML = ''; let i = 0; const interval = setInterval(() => { if (i < verificationSteps.length) { const line = document.createElement('span'); line.className = 'console-line'; line.textContent = `> ${verificationSteps[i]}`; consoleOutput.appendChild(line); consoleOutput.scrollTop = consoleOutput.scrollHeight; i++; } else { clearInterval(interval); } }, 800); }
        setupModal('open-sp1-verifier', 'sp1-verifier-modal', 'close-sp1-modal', runConsoleAnimation);

        // --- PENGATURAN POPUP COMMUNITY BOARD ---
        // Elemen-elemen
        const communityLoginView = document.getElementById('community-login-view');
        const communityDrawingView = document.getElementById('community-drawing-view');
        const loginTwitterBtn = document.getElementById('login-twitter-btn');
        const twitterUsernameDisplay = document.getElementById('twitter-username-display');
        const canvas = document.getElementById('drawing-canvas');
        const colorPicker = document.getElementById('colorPicker');
        const brushSize = document.getElementById('brushSize');
        const eraserBtn = document.getElementById('eraserBtn');
        const clearBtn = document.getElementById('clearBtn');
        const submitArtBtn = document.getElementById('submitArtBtn');

        let currentUser = null; // Simpan data user { username: 'vankioo' }

        // Fungsi untuk meng-handle login Twitter
        loginTwitterBtn.addEventListener('click', () => {
            // DI DUNIA NYATA: Kode ini akan membuka jendela baru ke backend
            // window.location.href = '/api/auth/twitter'; 
            
            // SIMULASI: Anggap login berhasil dan kita dapat username
            alert("Simulasi Login Twitter Berhasil!");
            currentUser = { username: 'vankioo' }; // Ganti dengan username asli nanti
            showDrawingView(currentUser.username);
        });

        function showDrawingView(username) {
            communityLoginView.classList.add('hidden');
            communityDrawingView.classList.remove('hidden');
            twitterUsernameDisplay.textContent = `@${username}`;
        }
        
        if (canvas) {
            const ctx = canvas.getContext('2d');
            let isDrawing = false, isEraser = false;
            function setupCanvas() { canvas.width = canvas.parentElement.clientWidth; canvas.height = 400; ctx.lineJoin = 'round'; ctx.lineCap = 'round'; }
            function startDrawing(e) { isDrawing = true; draw(e); }
            function stopDrawing() { isDrawing = false; ctx.beginPath(); }
            function draw(e) { if (!isDrawing) return; e.preventDefault(); const r = canvas.getBoundingClientRect(); const x = (e.clientX || e.touches[0].clientX) - r.left; const y = (e.clientY || e.touches[0].clientY) - r.top; ctx.lineWidth = brushSize.value; ctx.strokeStyle = isEraser ? 'white' : colorPicker.value; ctx.lineTo(x, y); ctx.stroke(); ctx.beginPath(); ctx.moveTo(x, y); }
            canvas.addEventListener('pointerdown', startDrawing);
            canvas.addEventListener('pointerup', stopDrawing);
            canvas.addEventListener('pointerout', stopDrawing);
            canvas.addEventListener('pointermove', draw);
            clearBtn.addEventListener('click', () => ctx.clearRect(0, 0, canvas.width, canvas.height));
            eraserBtn.addEventListener('click', () => { isEraser = !isEraser; eraserBtn.classList.toggle('active', isEraser); });

            submitArtBtn.addEventListener('click', () => {
                const imageData = canvas.toDataURL('image/png');
                
                // DI DUNIA NYATA: Kirim data ke backend
                // fetch('/api/save-art', {
                //     method: 'POST',
                //     headers: { 'Content-Type': 'application/json' },
                //     body: JSON.stringify({ username: currentUser.username, imageData: imageData })
                // }).then(res => res.json()).then(data => {
                //      if(data.success) alert('Your art has been saved!');
                // });

                // SIMULASI:
                console.log(`Art by ${currentUser.username} siap dikirim:`, imageData);
                alert("Art has been locked! (Data gambar disimpan di log konsol)");
                submitArtBtn.disabled = true;
                submitArtBtn.textContent = "Thank You!";
                canvas.style.pointerEvents = 'none';
            });
            
            setupModal('open-community-board', 'community-board-modal', 'close-community-modal', setupCanvas);
        }
    });
</script>
    </script>
</body>
</html>
